{% extends 'base.html' %}
{% load i18n %}

{% block body_class %}{% endblock %}

{% block title %}{% trans "Recent changes to the candidate database" %}{% endblock %}

{% block hero %}
  <h1>{% trans "Recent Changes" %}</h1>
{% endblock %}

{% block content %}

{# TODO: Make this form work! #}
{# TODO: Show this only to moderators #}
<form class="recent-changes-filters">
  <p>
    <input type="checkbox" id="recent-change-filter-1">
    <label for="recent-change-filter-1">Show inline diffs</label>
  </p>
  <p>
    <input type="checkbox" id="recent-change-filter-2">
    <label for="recent-change-filter-2">Ignore changes by trusted users</label>
  </p>
  <p>
    <input type="checkbox" id="recent-change-filter-3">
    <label for="recent-change-filter-3">Ignore already reviewed changes</label>
  </p>
</form>

{% for action in actions %}
  {% include 'candidates/_recent-change.html' with action=action %}
{% endfor %}

<ul class="pagination" role="menubar" aria-label="Pagination">
  {% if actions.has_previous %}
    <li class="arrow">
        <a role="menuitem" href="?page={{ actions.previous_page_number }}">{% trans "previous" %}</a>
    </li>
  {% else %}
    <li class="arrow unavailable">
        <a role="menuitem" aria-disabled="true">&laquo; {% trans "Previous" %}</a>
    </li>
  {% endif %}

  <li class="unavailable">
    <a role="menuitem" aria-disabled="true">{% blocktrans with n=actions.number num=actions.paginator.num_pages %}Page {{ n }} of {{ num }}{% endblocktrans %}</a>
  </li>

  {% if actions.has_next %}
    <li class="arrow">
        <a role="menuitem" href="?page={{ actions.next_page_number }}">{% trans "next" %}</a>
    </li>
  {% else %}
    <li class="arrow unavailable">
        <a role="menuitem" aria-disabled="true">{% trans "Next" %} &raquo;</a>
    </li>
  {% endif %}
</ul>

{% endblock %}
